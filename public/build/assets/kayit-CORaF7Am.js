import{a as u}from"./axios-upsvKRUO.js";import{u as d}from"./real-ZMtuIudR.js";import{I as S}from"./form-BX-7WjtY.js";import"./app-DeQrA2Ni.js";const p=(()=>{const{Swall:t,SwallCikis:o,FormKontrol:n,FormTamamlandi:l}=d(),s=()=>{[{elementId:"kayitTelefon",maske:"+{90} 000 000 00 00"}].forEach(({elementId:i,maske:a,bloklar:r})=>{const c=r?{mask:a,blocks:r}:{mask:a};S(document.getElementById(i),c)})},m=()=>{const e=new FormData,i={isimSoyisim:$("#kayitIsimSoyisim").val(),eposta:$("#kayitEposta").val(),telefon:$("#kayitTelefon").val(),sifre:$("#kayitSifre").val()};for(const[a,r]of Object.entries(i))r&&e.append(a,r);return{formVerisi:e}},k=async()=>{if(f()){const{formVerisi:e}=m();t({icon:"info",icerik:"Kayıt Yapılıyor, Lütfen Bekleyiniz ...",onayButonDurum:!1});try{const{data:i}=await u.post(appUrl+"/kayit",e);l(i.mesaj),setTimeout(()=>{o(),window.location.href=appUrl+"/giris"},1e3)}catch{setTimeout(()=>{t({icon:"error",baslik:"Kayıt Başarısız !",icerik:"Lütfen Bilgilerinizi kontrol ediniz ...",onayButonIcerik:"Tamam"})},1e3)}}},y=()=>{$("#kayit-btn").on("click",k)},f=()=>{const e="kayitForm";let i={kayitIsimSoyisim:$("#kayitForm #kayitIsimSoyisim").val(),kayitEposta:$("#kayitForm #kayitEposta").val(),kayitTelefon:$("#kayitForm #kayitTelefon").val(),kayitSifre:$("#kayitForm #kayitSifre").val().trim(),kayitSifreTekrar:$("#kayitForm #kayitSifreTekrar").val().trim()};if(i.kayitSifre!=i.kayitSifreTekrar)return t({icon:"error",baslik:"Şifreler aynı değil !",icerik:"Lütfen şifre tekrarını aynı giriniz !"}),!1;const a=[{label:"İsim Soyisim",name:"kayitIsimSoyisim",value:i.kayitIsimSoyisim,required:!0},{label:"E-Posta",name:"kayitEposta",value:i.kayitEposta,required:!0},{label:"Telefon",name:"kayitTelefon",value:i.kayitTelefon,required:!0},{label:"Şifre",name:"kayitSifre",value:i.kayitSifre,required:!0},{label:"Şifre Tekrar",name:"kayitSifreTekrar",value:i.kayitSifreTekrar,required:!0}];return n().validate(e,a)};return{init:()=>{s(),y()}}})();document.addEventListener("DOMContentLoaded",p.init);
