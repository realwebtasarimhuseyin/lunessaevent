var s=Object.defineProperty;var m=(l,a,e)=>a in l?s(l,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[a]=e;var i=(l,a,e)=>m(l,typeof a!="symbol"?a+"":a,e);import{u as p}from"./real-ZMtuIudR.js";class d{constructor(){i(this,"projeAnaGorsel",null);i(this,"projeGorseller",null);i(this,"tarih",null);i(this,"froala",{});i(this,"FormId","projeForm");const{FormKontrol:a,FilePonds:e}=p();this.FormKontrol=a,this.FilePonds=e,this.init()}init(){this.ProjeFormElement()}ProjeFormElement(){const a=this;diller.forEach(e=>{a.froala[e]=new FroalaEditor(`#projeIcerik-${e}`,{imageDefaultDisplay:"inline",language:"tr",toolbarButtons:[["undo","redo","bold","italic","underline","strikeThrough","subscript","superscript"],["fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","lineHeight"],["paragraphFormat","align","formatOL","formatUL","outdent","indent"],["insertLink","insertImage","insertVideo","insertTable","specialCharacters","fileManager"],["clearFormatting","selectAll","html","alert","clear","insert","print","fullscreen"]],pluginsEnabled:["align","charCounter","codeBeautifier","codeView","colors","draggable","emoticons","entities","fontFamily","fontSize","image","inlineClass","inlineStyle","lineBreaker","link","lists","paragraphFormat","paragraphStyle","lineHeight","quote","specialCharacters","table","url","wordPaste","print","imageTUI","video","fullscreen"],imageInsertButtons:["imageByURL"],videoInsertButtons:["videoByURL"],imageEditButtons:["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize","imageTUI"],events:{initialized:function(){typeof projeIcerik<"u"&&projeIcerik[e]&&this.html.set(projeIcerik[e])}}})}),a.projeAnaGorsel=a.FilePonds("#anaResim",{allowMultiple:!1,maxFiles:1,labelIdle:'Resminizi Sürükleyip Bırakın veya <span class="filepond--label-action">Tarayıcıdan Ekleyin</span>',acceptedFileTypes:["image/png","image/jpeg","image/webp"],maxFileSize:"10MB"}),a.projeGorseller=a.FilePonds("#normalResimler",{allowReorder:!0,allowMultiple:!0,maxFiles:30,labelIdle:'Resminizi Sürükleyip Bırakın veya <span class="filepond--label-action">Tarayıcıdan Ekleyin</span>',acceptedFileTypes:["image/png","image/jpeg","image/webp"],maxFileSize:"10MB"}),typeof anaResimUrl<"u"&&a.projeAnaGorsel.addFile(anaResimUrl),typeof normalResimlerUrl<"u"&&normalResimlerUrl.forEach(e=>{a.projeGorseller.addFile(e)}),$("#projeForm #ulke").on("change",function(){$(this).val()==190&&$("#projeForm .ilContainer").removeClass("d-none")})}ProjeVeriler(){const a=this;let e=new FormData;diller.forEach(r=>{let t={[`baslik_${r}`]:$(`#projeForm #baslik-${r}`).val(),[`icerik_${r}`]:a.froala[r].html.get(),[`metaBaslik_${r}`]:$(`#projeForm #metaBaslik-${r}`).val(),[`metaIcerik_${r}`]:$(`#projeForm #metaIcerik-${r}`).val(),[`metaAnahtar_${r}`]:$(`#projeForm #metaAnahtar-${r}`).val()};e.append(`${r}`,JSON.stringify(t))});let o=a.projeAnaGorsel.getFiles();o.length>0&&e.append("anaResim",o[0].file);let n=a.projeGorseller.getFiles();return n.length>0&&n.forEach((r,t)=>{e.append("normalResimler[]",r.file)}),$("#projeForm #durum").is(":checked")?e.append("durum",1):e.append("durum",0),e}ProjeFormKontrol(){const a=this;let e={baslik:$(`#projeForm #baslik-${varsayilanDil}`).val(),icerik:a.froala[varsayilanDil].html.get(),metaBaslik:$(`#projeForm #metaBaslik-${varsayilanDil}`).val(),metaIcerik:$(`#projeForm #metaIcerik-${varsayilanDil}`).val(),metaAnahtar:$(`#projeForm #metaAnahtar-${varsayilanDil}`).val(),il:$("#projeForm #il").val(),tur:$("#projeForm #tur").val(),alan:$("#projeForm #alan").val(),asama:$("#projeForm #asama").val(),tarih:$("#projeForm #tarih").val()};const o=[{label:"Başlık",name:`baslik-${varsayilanDil}`,value:e.baslik,required:!0},{label:"İçerik",name:`icerik-${varsayilanDil}`,value:e.icerik,required:!0},{label:"Meta Başlık",name:`metaBaslik-${varsayilanDil}`,value:e.metaBaslik,required:!0},{label:"Meta Anahtar",name:`metaAnahtar-${varsayilanDil}`,value:e.metaAnahtar,required:!0},{label:"Meta İçerik",name:`metaIcerik-${varsayilanDil}`,value:e.metaIcerik,required:!0}];return a.FormKontrol().validate(a.FormId,o)}}export{d as R};
