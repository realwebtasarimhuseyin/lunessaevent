import{a as s}from"./axios-upsvKRUO.js";import{u as d}from"./real-ZMtuIudR.js";import{I as m}from"./form-BX-7WjtY.js";import"./app-DeQrA2Ni.js";class c{constructor(){const{FormKontrol:o}=d();this.FormKontrol=o,this.init()}init(){this.DovizYonetimFormElement()}DovizYonetimFormElement(){const o=document.getElementById("yuzde"),i=document.getElementById("birim"),t=m(o,{mask:Number,scale:2,signed:!1,min:0,max:100,radix:",",thousandsSeparator:"."}),n=m(i,{mask:Number,scale:2,signed:!1,radix:",",thousandsSeparator:".",mapToRadix:["."]});$("#dovizYonetimForm").on("change","#yuzde",function(){let e=parseFloat(t.unmaskedValue)||0;e<0&&(e=0),e>100&&(e=100),e>0&&(n.unmaskedValue="0",n.updateValue()),t.unmaskedValue=e.toFixed(2),t.updateValue()}),$("#dovizYonetimForm").on("change","#birim",function(){let e=parseFloat(n.unmaskedValue)||0;e=Math.max(0,e),e>0&&(t.unmaskedValue="0",t.updateValue()),n.unmaskedValue=e.toFixed(2),n.updateValue()})}DovizYonetimVeriler(){let o=new FormData;return o.append("kaynak",$("#dovizYonetimForm #kaynak").val()),o.append("birim",$("#dovizYonetimForm #birim").val().replace(/\./g,"").replace(/,/g,".")),o.append("yuzde",$("#dovizYonetimForm #yuzde").val().replace(/\./g,"").replace(/,/g,".")),o}DovizYonetimFormKontrol(){return!0}}const z=function(){const{FormGondermeOnay:a,FormYukleniyor:o,FormTamamlandi:i,Swall:t}=d(),n=new c,e=function(){n.DovizYonetimFormKontrol()&&a("Doviz Yonetim Düzenleniyor !").then(u=>{u.isConfirmed&&(o("Doviz Yonetim Düzenleniyor..."),setTimeout(()=>{const l=n.DovizYonetimVeriler();s.post(`${panelUrl}/dovizyonetim/duzenle/${slug}`,l,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{i(r.data.mesaj),setTimeout(()=>{window.location.reload()},1e3)}).catch(function(r){t({icon:"error",icerik:"Lütfen tüm alanları doldurup tekrar deneyiniz !",onayButonİcerik:"Tamam"})})},500))})};return{init:function(){$("#dovizYonetimBtnCnt").on("click","#dovizYonetimBtnSbt",function(){return e()})}}}();document.addEventListener("DOMContentLoaded",a=>{z.init()});
