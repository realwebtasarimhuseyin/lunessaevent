import{a as t}from"./axios-upsvKRUO.js";import{u as y}from"./real-ZMtuIudR.js";import{I as k}from"./form-BX-7WjtY.js";import"./app-DeQrA2Ni.js";const S=(()=>{const{Swall:a,SwallCikis:n,FormKontrol:s,FormTamamlandi:m}=y(),f=()=>{[{elementId:"profilTelefon",maske:"+{90} 000 000 00 00"}].forEach(({elementId:i,maske:o,bloklar:e})=>{const l=e?{mask:o,blocks:e}:{mask:o};k(document.getElementById(i),l)})},p=()=>{const r=new FormData,i={isimSoyisim:$("#profilIsimSoyisim").val(),eposta:$("#profilEposta").val(),telefon:$("#profilTelefon").val(),sifre:$("#profilSifre").val(),sifre_confirmation:$("#profilSifreTekrar").val()};for(const[o,e]of Object.entries(i))e&&r.append(o,e);return{formVerisi:r}},c=async()=>{if(u()){const{formVerisi:r}=p();a({icon:"info",icerik:"Hesap Bilgileri Düzenleme Yapılıyor, Lütfen Bekleyiniz ...",onayButonDurum:!1});try{const{data:i}=await t.post(appUrl+"/hesabim/duzenle",r);m(i.mesaj),setTimeout(()=>{n()},1e3),window.location.reload()}catch{setTimeout(()=>{a({icon:"error",baslik:"Düzenleme Başarısız !",icerik:"Lütfen Bilgilerinizi kontrol ediniz ...",onayButonIcerik:"Tamam"})},1e3)}}},d=()=>{$("#profil-duzenle-btn").on("click",c),$(".siparis-detay-btn").on("click",async function(){var i,o;const r=$(this).closest(".siparis").attr("siparis-id");if(!r){Swal.fire({icon:"error",title:"Hata",text:"Sipariş ID bulunamadı!",confirmButtonText:"Tamam"});return}try{const{data:e}=await t.post(appUrl+"/siparis/detay",{"siparis-id":r});$("#siparisModal .modal-body").html(""),$("#siparisModal").modal("show")}catch(e){Swal.fire({icon:"error",title:"Hata",text:((o=(i=e.response)==null?void 0:i.data)==null?void 0:o.mesaj)||"Sipariş detayları alınırken bir hata oluştu.",confirmButtonText:"Tamam"})}})},u=()=>{const r="profilForm";let i={profilIsimSoyisim:$("#profilForm #profilIsimSoyisim").val(),profilEposta:$("#profilForm #profilEposta").val(),profilTelefon:$("#profilForm #profilTelefon").val(),profilSifre:$("#profilForm #profilSifre").val().trim(),profilSifreTekrar:$("#profilForm #profilSifreTekrar").val().trim()};if(i.profilSifre!=i.profilSifreTekrar)return a({icon:"error",baslik:"Şifreler aynı değil !",icerik:"Lütfen şifre tekrarını aynı giriniz !"}),!1;const o=[{label:"İsim Soyisim",name:"profilIsimSoyisim",value:i.profilIsimSoyisim,required:!0},{label:"E-Posta",name:"profilEposta",value:i.profilEposta,required:!0},{label:"Telefon",name:"profilTelefon",value:i.profilTelefon,required:!0}];return s().validate(r,o)};return{init:()=>{f(),d()}}})();document.addEventListener("DOMContentLoaded",S.init);
