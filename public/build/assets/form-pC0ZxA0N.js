var u=Object.defineProperty;var i=(r,e,t)=>e in r?u(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var o=(r,e,t)=>i(r,typeof e!="symbol"?e+"":e,t);import{u as l}from"./real-ZMtuIudR.js";class s{constructor(){o(this,"kuponTarih",null);o(this,"quill",{});o(this,"FormId","kuponForm");const{FormKontrol:e,FlatPicker:t,ZamanFormati:a}=l();this.FormKontrol=e,this.FlatPicker=t,this.ZamanFormati=a,this.init()}init(){this.KuponFormElement()}KuponFormElement(){const e=this;e.kuponTarih=e.FlatPicker("tarih",fBaslangic,fBitis),$(`#${e.FormId}`).on("change","#yuzde",function(t){let a=parseFloat(t.target.value);!a||a<0?a=0:a>100&&(a=100),a>0&&$('[name="tutar"]').val("0.00").trigger("change"),t.target.value=parseFloat(a).toFixed(2)}),$(`#${e.FormId}`).on("change","#adet",function(t){let a=parseFloat(t.target.value);a<0&&(a=0),t.target.value=parseFloat(a).toFixed(0)}),$(`#${e.FormId}`).on("change","#tutar",function(t){let a=parseFloat(t.target.value);(!a||a<0)&&(a=0),a>0&&$('[name="yuzde"]').val("0.00").trigger("change"),t.target.value=parseFloat(a).toFixed(2)})}KuponVeriler(){const e=this;let t=new FormData,a={kod:$("#kuponForm #kod").val(),adet:$("#kuponForm #adet").val(),tutar:$("#kuponForm #tutar").val(),yuzde:$("#kuponForm #yuzde").val(),baslangic_tarih:e.ZamanFormati(e.kuponTarih.selectedDates[0]),bitis_tarih:e.ZamanFormati(e.kuponTarih.selectedDates[1])};return $("#kuponForm #kod").attr("disabled")||t.append("kod",a.kod),t.append("adet",a.adet),t.append("tutar",a.tutar),t.append("yuzde",a.yuzde),t.append("baslangic_tarih",a.baslangic_tarih),t.append("bitis_tarih",a.bitis_tarih),$("#kuponForm #durum").is(":checked")?t.append("durum",1):t.append("durum",0),t}KuponFormKontrol(){const e=this,t="kuponForm";let a={kod:$("#kuponForm #kod").val(),adet:$("#kuponForm #adet").val(),tutar:$("#kuponForm #tutar").val(),yuzde:$("#kuponForm #yuzde").val(),baslangic_tarih:e.ZamanFormati(e.kuponTarih.selectedDates[0]),bitis_tarih:e.ZamanFormati(e.kuponTarih.selectedDates[1])};const n=[{label:"Kupon Kod",name:"kod",value:a.kod,required:!0},{label:"Kupon Adet",name:"adet",value:a.adet,required:!0},{label:"Kupon Tarih",name:"tarih",value:a.baslangic_tarih,required:!0},{label:"Kupon Tutar",name:"tutar",value:a.tutar+a.yuzde,required:!0}];return e.FormKontrol().validate(t,n)}}export{s as R};
